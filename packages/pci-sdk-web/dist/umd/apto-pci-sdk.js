/*! For license information please see apto-pci-sdk.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AptoPCISdk=t():e.AptoPCISdk=t()}(this,(function(){return(()=>{var __webpack_modules__={150:function(module){var factory;factory=function(){return function(){"use strict";var __webpack_modules__={"./dist/esm/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: function() { return /* binding */ version; }\n/* harmony export */ });\nconst {\n  version\n} = __webpack_require__(/*! ../../package.json */ "./package.json");\n/* harmony default export */ __webpack_exports__["default"] = ({\n  version\n});\n\n//# sourceURL=webpack://AptoPCISdkIframe/./dist/esm/index.js?')},"./package.json":function(module){eval('module.exports = JSON.parse(\'{"name":"@apto-payments/pci-sdk-iframe","version":"4.1.0","browser":"./dist/umd/apto-pci-sdk-iframe.js","main":"./dist/esm/index.js","module":"./dist/esm/index.js","types":"./dist/esm/index.d.ts","homepage":".","scripts":{"build":"react-scripts build","create-s3-artifacts":"node scripts/create-s3-artifacts.js","deploy-to-s3":"node scripts/deploy-to-s3.js","prebuild":"webpack","prepublishOnly":"npm run build && npm run create-s3-artifacts && npm run deploy-to-s3","start":"react-scripts start","test":"react-scripts test","update:deps":"npm audit fix && npm update"},"publishConfig":{"access":"public"},"files":["lib"],"browserslist":{"production":[">0.2%","android 4.4.3-4.4.4"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@testing-library/jest-dom":"^5.16.1","@testing-library/react":"^12.1.2","@testing-library/user-event":"^13.5.0","@types/jest":"^27.0.3","@types/node":"^17.0.2","@types/react":"^17.0.37","@types/react-dom":"^17.0.11","aws-sdk":"^2.1047.0","eslint-config-prettier":"^8.3.0","eslint-config-react-app":"^7.0.0","eslint-config-typescript":"^3.0.0","eslint-plugin-react":"^7.27.1","prettier":"^2.5.1","react":"^17.0.2","react-dom":"^17.0.2","react-scripts":"^5.0.0","stylelint":"^14.1.0","stylelint-config-css-modules":"^2.3.0","stylelint-config-prettier":"^9.0.3","stylelint-config-property-sort-order-smacss":"^8.0.0","stylelint-config-standard":"^24.0.0","typescript":"^4.5.4","webpack-cli":"^4.9.1"},"jest":{"resetMocks":false},"dependencies":{"react-app-polyfill":"^3.0.0"},"gitHead":"4cf4bbecec5225158bc55d1e377d17225cc3c6d9"}\');\n\n//# sourceURL=webpack://AptoPCISdkIframe/./package.json?')}},__webpack_module_cache__={};function __nested_webpack_require_4026__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__nested_webpack_require_4026__),r.exports}__nested_webpack_require_4026__.d=function(e,t){for(var r in t)__nested_webpack_require_4026__.o(t,r)&&!__nested_webpack_require_4026__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__nested_webpack_require_4026__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__nested_webpack_require_4026__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__nested_webpack_require_4026__("./dist/esm/index.js");return __webpack_exports__}()},module.exports=factory()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>m,getIsDataVisible:()=>b,hidePCIData:()=>u,init:()=>p,setStyle:()=>d,setTheme:()=>l,showPCIData:()=>_,showSetPinForm:()=>f,version:()=>e.version});var e=__webpack_require__(150),t="https://apto-pci-sdk-web-iframe.netlify.app",r=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},n=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function o(e){return new Promise((function(t){window.addEventListener("message",(function(r){(function(e){return"*"===e.allowedEventOrigin||e.event.origin===e.allowedEventOrigin})({event:r,allowedEventOrigin:e.allowedEventOrigin})&&JSON.parse(r.data).type===e.eventType&&t()}),!1)}))}var i,s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},a=t,c=(e.version,t);function p(e){return function(e){if(!e)throw new Error("Cannot call .init() with no options. At least auth parameters are required: https://docs.aptopayments.com/docs/sdks/Web/pci_sdk_web#initialize-the-sdk");if(!e.auth.apiKey)throw new Error("You need to provide the mobile API key init the PCI SDK: https://docs.aptopayments.com/docs/sdks/Web/pci_sdk_web/#get-the-mobile-api-key");if(!e.auth.userToken)throw new Error("You need to provide an user token to init the PCI SDK: https://docs.aptopayments.com/docs/sdks/Web/pci_sdk_web/#optionsobject-properties");if(!e.auth.cardId)throw new Error("You need to provide a cardID to init the PCI SDK: https://docs.aptopayments.com/docs/sdks/Web/pci_sdk_web/#optionsobject-properties");if(!e.auth.environment)throw new Error('You need to provide an environment to init the PCI SDK. Try "sbx" if you are testing: https://docs.aptopayments.com/docs/sdks/Web/pci_sdk_web/#optionsobject-properties')}(e),i=function(e){var t;return r(this,void 0,void 0,(function(){var r,i,s,a,c;return n(this,(function(n){switch(n.label){case 0:if(!(r=e.element||document.getElementById("apto-pci-sdk")))throw new Error("You need to provide an HTML element to init the PCI SDK");return i=o({allowedEventOrigin:e.allowedEventOrigin,eventType:"apto-iframe-ready"}),s=o({allowedEventOrigin:e.allowedEventOrigin,eventType:"apto-iframe-auth-ready"}),r.innerHTML="",a=function(e){var t,r,n=document.createElement("iframe"),o=function(e){var t=new URLSearchParams;return t.set("cardId",e.auth.cardId),t.set("environment",e.auth.environment),e.networkLogo&&(t.set("networkLogoSymbol",e.networkLogo.symbol),e.networkLogo.position&&t.set("networkLogoPosition",e.networkLogo.position),e.networkLogo.size&&(t.set("networkLogoWidth",e.networkLogo.size.width),t.set("networkLogoHeight",e.networkLogo.size.height))),e.values&&Object.keys(e.values).forEach((function(r){return t.set(r,e.values[r])})),e.theme&&t.set("theme",e.theme.toString()),e.debug&&t.set("debug","true"),t}(e);return n.setAttribute("src","".concat(e.url,"?").concat(o.toString())),n.setAttribute("frameborder","0"),n.setAttribute("height",(null===(t=e.size)||void 0===t?void 0:t.height)||"100%"),n.setAttribute("width",(null===(r=e.size)||void 0===r?void 0:r.width)||"100%"),n.setAttribute("data-cy","pci-sdk-web"),n}(e),r.appendChild(a),[4,i];case 1:return n.sent(),c=JSON.stringify({type:"setAuth",userToken:e.auth.userToken,apiKey:e.auth.apiKey}),null===(t=a.contentWindow)||void 0===t||t.postMessage(c,e.allowedEventOrigin),[4,s];case 2:return n.sent(),[2,a]}}))}))}(s({allowedEventOrigin:a,url:c},e))}function _(){w({type:"showCardData"})}function u(){w({type:"hideCardData"})}function d(e){w({type:"setStyle",style:e})}function l(e){w({type:"setTheme",theme:e})}function f(){w({type:"showSetPinForm"})}function b(){return new Promise((function(e){window.addEventListener("message",(function t(r){if("*"===a||r.origin===a){var n=JSON.parse(r.data);"apto-iframe-visibility-change"===n.type&&(window.removeEventListener("message",t),e(JSON.parse(n.payload.isVisible)))}}),!1),w({type:"isDataVisible"})}))}function w(e){return i?i.then((function(t){var r,n=JSON.stringify(e);null===(r=t.contentWindow)||void 0===r||r.postMessage(n,a)})):console.error('Cannot execute "'.concat(e.type,'". It looks like the SDK is not initialized, run AptoPCISdk.init() first'))}const m={getIsDataVisible:b,hidePCIData:u,init:p,setStyle:d,setTheme:l,showPCIData:_,showSetPinForm:f,version:e.version}})(),__webpack_exports__})()}));